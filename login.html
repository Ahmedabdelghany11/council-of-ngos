<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- title -->
  <title>مجلس الجمعيات الأهلية | تسجيل الدخول</title>
  <!-- favicon -->
  <link rel="icon" type="image/icon" href="assets/fav.svg" />
  <!-- swiper -->
  <link rel="stylesheet" href="css/swiper-bundle.min.css" />
  <!-- Custom style  -->
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- ================ loader ================= -->
  <div class="spinerLoader">
    <div class="spinerLoaderImg"></div>
  </div>
  <!-- Start login form -->
  <main class="auth-page login-page">
    <section class="auth-container">
      <div class="auth-heading">
        <a href="index.html" class="auth-logo">
          <img src="assets/logo.svg" alt="مجلس الجمعيات الأهلية" title="مجلس الجمعيات الأهلية" />
        </a>
        <span class="auth-heading-line"></span>
        <h3>تسجيل الدخول</h3>
      </div>
      <div class="auth-form-container">
        <div class="auth-form-heading">
          <div class="heading-title">
            <h2>مرحبًا بعودتك !</h2>
            <div class="emoji">
              <img src="assets/waving-hand.svg" alt="waving hand" />
            </div>
          </div>
          <p class="heading-note">
            الرجاء إدخال عنوان البريد الإلكتروني لإتمام عملية الدخول
          </p>
        </div>
        <form class="auth-form" action="dashboard.html" onsubmit="return validateForm()">
          <div class="auth-form-body">
            <div class="form-inputs-container">
              <div class="input-group">
                <label for="emailInput">البريد الإلكتروني</label>
                <input type="email" name="email" id="emailInput" placeholder="مثال: mail@mail.com" />
                <div class="errorDiv">
                  <p class="errorMessage"> البريد الإلكتروني غير صحيح </p>
                </div>
              </div>
              <div class="input-group">
                <label for="passwordInput">كلمة المرور</label>
                <input type="password" name="password" id="passwordInput" placeholder="************" />
                <span class="passwordIcon">
                  <img src="assets/show-passowd.svg" alt="show password icon" title="Toggle password visiblity" />
                </span>
                <div class="errorDiv">
                  <p class="errorMessage"> كلمة المرور غير صحيحة </p>
                </div>
              </div>
            </div>
            <a href="forget.html" class="forget-password-link"> نسيت كلمة المرور؟ </a>
          </div>
          <div class="auth-form-btns-container">
            <a href="#!" class="back-link" onclick="window.history.back();">
              <img src="assets/backArrow.svg" alt="back icon" title="back home" />
            </a>
            <button type="submit">تسجيل الدخول</button>
          </div>
        </form>
        <div class="auth-link-box">
          <p>ليس لديك حساب ؟</p>
          <a href="register.html">إنشاء حساب</a>
        </div>
      </div>
    </section>
    <figure>
      <img src="assets/form_img.webp" alt="form img" />
    </figure>
  </main>
  <!-- End login form -->
  <!-- jquery  -->
  <script src="js/jquery.min.js"></script>
  <!-- swiper slider -->
  <script src="js/swiper-bundle.min.js"></script>
  <!-- custom -->
  <script src="js/Custom.js"></script>
  <script>
    $(document).ready(function () {
      function validateForm() {
        let isValid = true;
        // Get input elements and their closest input-group elements
        const $emailInput = $('#emailInput');
        const $passwordInput = $('#passwordInput');
        const $emailGroup = $emailInput.closest('.input-group');
        const $passwordGroup = $passwordInput.closest('.input-group');
        // Get error message elements
        const $emailErrorMessage = $emailGroup.find('.errorMessage');
        const $passwordErrorMessage = $passwordGroup.find('.errorMessage');
        // Reset error state
        resetErrorState($emailGroup, $emailErrorMessage);
        resetErrorState($passwordGroup, $passwordErrorMessage);
        // Validate email
        if (!validateEmail($emailInput.val())) {
          setErrorState($emailGroup, $emailErrorMessage);
          isValid = false;
        }
        // Validate password
        if (!$passwordInput.val()) {
          setErrorState($passwordGroup, $passwordErrorMessage);
          isValid = false;
        }
        return isValid;
      }
      function validateEmail(email) {
        // Simple email validation regex
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
      }
      function resetErrorState($group, $errorMessage) {
        $group.removeClass('error');
        $errorMessage.hide();
      }
      function setErrorState($group, $errorMessage) {
        $group.addClass('error');
        $errorMessage.show();
      }
      // Attach validateForm to form submission
      $('form').on('submit', function (e) {
        if (!validateForm()) {
          e.preventDefault(); // Prevent form submission if validation fails
        }
      });
    });
  </script>


<script>
  document.addEventListener('DOMContentLoaded', function() {
      const emailInput = document.getElementById('emailInput');
      const errorDiv = emailInput.nextElementSibling;

      emailInput.addEventListener('input', function() {
          const emailValue = emailInput.value;
          const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

          if (emailPattern.test(emailValue)) {
              emailInput.classList.remove('error');
              errorDiv.style.display = 'none';
          } else {
              emailInput.classList.add('error');
              errorDiv.style.display = 'block';
          }
      });
  });
</script>

</body>
</html>