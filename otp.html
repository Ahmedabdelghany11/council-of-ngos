<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- title -->
  <title>مجلس الجمعيات الأهلية | رمز التحقق</title>
  <!-- favicon -->
  <link rel="icon" type="image/icon" href="assets/fav.svg" />
  <!-- swiper -->
  <link rel="stylesheet" href="css/swiper-bundle.min.css" />
  <!-- Custom style  -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <!-- ================ loader ================= -->
  <div class="spinerLoader">
    <div class="spinerLoaderImg"></div>
  </div>

  <!-- Start OTP form -->
  <main class="auth-page otp-page">
    <section class="auth-container">
      <div class="auth-heading">
        <a href="index.html" class="auth-logo">
          <img src="assets/logo.svg" alt="مجلس الجمعيات الأهلية" title="مجلس الجمعيات الأهلية" />
        </a>
        <span class="auth-heading-line"></span>
        <h3>رمز التحقق</h3>
      </div>
      <div class="auth-form-container">
        <div class="auth-form-heading">
          <div class="heading-title">
            <h2>أدخل رمز التحقق</h2>
          </div>
          <p class="heading-note">
            الرجاء إدخال رمز التحقق المرسل إلى <span>mail@mail.com</span>
          </p>
        </div>
        <form class="auth-form">
          <div class="auth-form-body">
            <div class="otp-code-container">
              <input class="otp-input" type="text" maxlength=1>
              <input class="otp-input" type="text" maxlength=1>
              <input class="otp-input" type="text" maxlength=1>
              <input class="otp-input" type="text" maxlength=1>
              <input class="otp-input" type="text" maxlength=1>
              <!-- Store OTP Value -->
              <input class="otp-value" type="hidden" name="opt-value">
            </div>
            <div class="resend-container">
              <h6 class="timer">00:48</h6>
              <p class="resend-button">أعد إرسال الرمز</p>
            </div>
          </div>
          <div class="auth-form-btns-container">
            <a href="#!" class="back-link" onclick="window.history.back();">
              <img src="assets/backArrow.svg" alt="back icon" title="back home" />
            </a>
            <button type="submit">تأكيد</button>
          </div>
        </form>
      </div>
    </section>
    <figure>
      <img src="assets/form_img.webp" alt="form img" />
    </figure>
  </main>
  <!-- End OTP form -->
  <!-- jquery  -->
  <script src="js/jquery.min.js"></script>
  <!-- swiper slider -->
  <script src="js/swiper-bundle.min.js"></script>
  <!-- custom -->
  <script src="js/Custom.js"></script>

  <script>
    $(document).ready(function () {
      $(".otp-code-container :input[type!='hidden']:first").focus();
      // Selecting DOM elements
      let otpFields = $(".otp-code-container .otp-input");
      let otpValueField = $(".otp-code-container .otp-value");
      function updateOTPValue() {
        let otpValue = "";
        otpFields.each(function () {
          let fieldValue = $(this).val();
          if (fieldValue !== "") {
            otpValue += fieldValue;
          }
        });
        otpValueField.val(otpValue);
      }
      otpFields.on("input", function () {
        $(this).val($(this).val().replace(/[^0-9]/g, ""));
        updateOTPValue();
      });
      otpFields.on("keyup", function (e) {
        let key = e.keyCode || e.charCode;
        if (key === 8 || key === 46 || key === 37 || key === 40) {
          $(this).prev().focus();
        } else if (key === 38 || key === 39 || $(this).val() !== "") {
          $(this).next().focus();
        }
      });
      otpFields.on("paste", function (e) {
        let pasteData = (e.originalEvent || e).clipboardData.getData("text");
        let pasteDataSplitted = pasteData.split("");
        $.each(pasteDataSplitted, function (index, value) {
          otpFields.eq(index).val(value);
        });
        updateOTPValue();
      });
    });
  </script>

</body>

</html>